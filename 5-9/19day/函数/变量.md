# 变量 {#变量}

### 临时变量

* 声明临时变量，只能在 begin ... end 体重语法如下

```
declare 变量名 类型 default 默认值;
例：
declare x varchar(100);
```

* 设置变量值，语法如下

```
set 变量名=值;
例：
set x='abc';
```

* 使用变量：将变量写到表达式中，即可调用变量的值

### 用户变量/会话变量

* 只有在当前连接用户有效,其他连接用户无法访问
* 使用@标识声明用户变量
* 使用 select 来查看用户变量

##### 定义

```
-- set @变量名 = 值;
set @age = 20;
-- 查看用户变量
select @age;
-- 但是如果在 select 语句中这么使用就会有问题, 因为 '=' 在 select 语句中是判断是否相等
-- mysql 使用 := 在 select 语句中表示赋值
set @maxage = 0;
select @maxage := max(age) from students;
```

### 系统变量

* 任何一个用户都可以访问
* 使用 @@来标识系统变量
* 使用 select 来查看系统变量

```
-- 查询所有的系统变量
show variables;
-- 查看用户变量
select @@max_connections;
-- 当前用户/会话中修改系统变量
set max_connections = 1000;
-- 全局修改,所有的访问用户都会生效
set global max_connection = 1000;
```



